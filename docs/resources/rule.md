---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "firefly3_rule Resource - terraform-provider-firefly3"
subcategory: ""
description: |-
  Manages a Firefly III rule. Rules allow you to automatically categorize, tag, or modify transactions based on triggers.
---

# firefly3_rule (Resource)

Manages a Firefly III rule. Rules allow you to automatically categorize, tag, or modify transactions based on triggers.

## Example Usage

```terraform
# Simple rule to categorize transactions
resource "firefly3_rule" "supermarket_rule" {
  rule_group_id = firefly3_rule_group.automation.id
  title         = "Categorize Supermarket Purchases"
  description   = "Automatically set category for supermarket transactions"
  trigger       = "store-journal"
  active        = true
  strict        = true

  triggers = [
    {
      type  = "description_contains"
      value = "SUPERMARKET"
    }
  ]

  actions = [
    {
      type  = "set_category"
      value = "Groceries"
    }
  ]
}
```

## Common Trigger Types

- `description_contains` - Transaction description contains a specific text
- `description_is` - Transaction description exactly matches
- `amount_more` - Transaction amount is more than specified value
- `amount_less` - Transaction amount is less than specified value
- `from_account_is` - Transaction originates from a specific account
- `to_account_is` - Transaction goes to a specific account
- `has_any_tag` - Transaction has any tag (value: "true")
- `category_is` - Transaction belongs to a specific category

## Common Action Types

- `set_category` - Set the transaction category
- `add_tag` - Add a tag to the transaction
- `set_description` - Change the transaction description
- `set_budget` - Assign transaction to a budget
- `remove_tag` - Remove a specific tag
- `clear_category` - Remove the category from the transaction

## Import

Rules can be imported using their ID:

```bash
terraform import firefly3_rule.supermarket_rule 789
```

<!-- schema generated by tfplugindocs -->

## Schema

### Required

- `actions` (Attributes List) List of actions to perform when the rule fires. (see [below for nested schema](#nestedatt--actions))
- `rule_group_id` (String) ID of the rule group under which the rule is stored.
- `title` (String) The title of the rule.
- `trigger` (String) When the rule should fire. Must be one of: `store-journal`, `update-journal`, or `manual-activation`.
- `triggers` (Attributes List) List of triggers that determine when the rule fires. (see [below for nested schema](#nestedatt--triggers))

### Optional

- `active` (Boolean) Whether or not the rule is active. Defaults to `true`.
- `description` (String) A description of what the rule does.
- `stop_processing` (Boolean) If true and the rule is triggered, other rules after this one in the group will be skipped. Defaults to `false`.
- `strict` (Boolean) If strict, ALL triggers must match for the rule to fire. Otherwise, just one is enough. Defaults to `true`.

### Read-Only

- `id` (String) The unique identifier of the rule.

<a id="nestedatt--actions"></a>

### Nested Schema for `actions`

Required:

- `type` (String) The type of action (e.g., `set_category`, `add_tag`, `set_description`).

Optional:

- `active` (Boolean) Whether this action is active. Defaults to `true`.
- `stop_processing` (Boolean) If true, other actions will not fire after this one. Defaults to `false`.
- `value` (String) The value for the action. Required for most action types.

<a id="nestedatt--triggers"></a>

### Nested Schema for `triggers`

Required:

- `type` (String) The type of trigger (e.g., `description_contains`, `amount_more`, `from_account_is`).

Optional:

- `active` (Boolean) Whether this trigger is active. Defaults to `true`.
- `prohibited` (Boolean) If true, the trigger is negated (e.g., 'description is NOT'). Defaults to `false`.
- `stop_processing` (Boolean) If true, other triggers will not be checked after this one fires. Defaults to `false`.
- `value` (String) The value to match against. Required for most trigger types, but some (like `has_any_tag`) only need 'true'.
